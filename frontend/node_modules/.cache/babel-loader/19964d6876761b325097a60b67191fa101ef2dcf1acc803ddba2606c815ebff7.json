{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4579cfca\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"admin\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"Users\", -1 /* HOISTED */));\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = {\n  class: \"card-title\"\n};\nconst _hoisted_7 = {\n  class: \"card-text\"\n};\nconst _hoisted_8 = {\n  class: \"list-group list-group-flush\"\n};\nconst _hoisted_9 = {\n  class: \"list-group-item\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"card-body\\\" data-v-4579cfca><a href=\\\"#\\\" class=\\\"editcard-link\\\" data-v-4579cfca><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"26\\\" height=\\\"26\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-pencil-square\\\" viewBox=\\\"0 0 16 16\\\" data-v-4579cfca><path d=\\\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\\\" data-v-4579cfca></path><path fill-rule=\\\"evenodd\\\" d=\\\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\\\" data-v-4579cfca></path></svg></a><a href=\\\"#\\\" class=\\\"delcard-link\\\" data-v-4579cfca><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"26\\\" height=\\\"26\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-x-circle-fill\\\" viewBox=\\\"0 0 16 16\\\" data-v-4579cfca><path d=\\\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\\\" data-v-4579cfca></path></svg></a></div>\", 1);\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Add Product\", -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_createStaticVNode(\"<table class=\\\"table\\\" data-v-4579cfca><thead data-v-4579cfca><tr data-v-4579cfca><th scope=\\\"col\\\" data-v-4579cfca>#</th><th scope=\\\"col\\\" data-v-4579cfca>Image</th><th scope=\\\"col\\\" data-v-4579cfca>Title</th><th scope=\\\"col\\\" data-v-4579cfca>Brand</th><th scope=\\\"col\\\" data-v-4579cfca>Price</th><th scope=\\\"col\\\" data-v-4579cfca>Actions</th></tr></thead><tbody data-v-4579cfca></tbody></table>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.Users, User => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card\",\n      style: {\n        \"width\": \"18rem\"\n      },\n      key: User.userID\n    }, [_createElementVNode(\"img\", {\n      src: User.userUrl,\n      class: \"card-img-top\",\n      alt: \"...\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h5\", _hoisted_6, _toDisplayString(User.firstName) + \" \" + _toDisplayString(User.lastName), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString(User.email), 1 /* TEXT */)]), _createElementVNode(\"ul\", _hoisted_8, [_createElementVNode(\"li\", _hoisted_9, _toDisplayString(User.userPass), 1 /* TEXT */)]), _hoisted_10]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", null, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newProduct.prodName = $event),\n    placeholder: \"Product Name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.prodName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newProduct.quantity = $event),\n    placeholder: \"Quantity\",\n    type: \"number\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.quantity]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newProduct.amount = $event),\n    placeholder: \"Amount\",\n    type: \"number\",\n    step: \"0.01\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.amount]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newProduct.Category = $event),\n    placeholder: \"Category\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.Category]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newProduct.prodUrl = $event),\n    placeholder: \"Product URL\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.prodUrl]]), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.addProduct && $options.addProduct(...args)),\n    onclick: \"window.location.reload()\"\n  }, \"Add Product\")]), _hoisted_12]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","_ctx","Users","User","style","key","userID","src","userUrl","alt","_hoisted_5","_hoisted_6","_toDisplayString","firstName","lastName","_hoisted_7","email","_hoisted_8","_hoisted_9","userPass","_hoisted_10","_hoisted_11","$data","newProduct","prodName","$event","placeholder","quantity","type","amount","step","Category","prodUrl","onClick","_cache","args","$options","addProduct","onclick","_hoisted_12"],"sources":["C:\\Users\\Student\\Documents\\CAPSTONE\\CapstoneProject\\frontend\\src\\views\\AdminView.vue"],"sourcesContent":["<template>\r\n    <div class=\"admin\">\r\n        <div class=\"container\">\r\n            <h4>Users</h4>\r\n            <div class=\"card\" style=\"width: 18rem;\" v-for=\"User in Users\" :key=\"User.userID\">\r\n                <img :src=\"User.userUrl\" class=\"card-img-top\" alt=\"...\">\r\n                <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">{{ User.firstName }} {{ User.lastName }}</h5>\r\n                    <p class=\"card-text\">{{ User.email }}</p>\r\n                </div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                    <li class=\"list-group-item\">{{ User.userPass }}</li>\r\n                </ul>\r\n                <div class=\"card-body\">\r\n                    <a href=\"#\" class=\"editcard-link\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\"\r\n                            fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n                            <path\r\n                                d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\r\n                            <path fill-rule=\"evenodd\"\r\n                                d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\" />\r\n                        </svg></a>\r\n                    <a href=\"#\" class=\"delcard-link\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\"\r\n                            fill=\"currentColor\" class=\"bi bi-x-circle-fill\" viewBox=\"0 0 16 16\">\r\n                            <path\r\n                                d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\" />\r\n                        </svg></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            <div>\r\n          <h2>Add Product</h2>\r\n          <input v-model=\"newProduct.prodName\" placeholder=\"Product Name\" />\r\n          <input v-model=\"newProduct.quantity\" placeholder=\"Quantity\" type=\"number\" />\r\n          <input v-model=\"newProduct.amount\" placeholder=\"Amount\" type=\"number\" step=\"0.01\" />\r\n          <input v-model=\"newProduct.Category\" placeholder=\"Category\" />\r\n          <input v-model=\"newProduct.prodUrl\" placeholder=\"Product URL\" />\r\n          <button @click=\"addProduct\" onclick=\"window.location.reload()\">Add Product</button>\r\n        </div>\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Image</th>\r\n                    <th scope=\"col\">Title</th>\r\n                    <th scope=\"col\">Brand</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Actions</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"AdminTable\",\r\n    components: { AddProductComp },\r\n    data() {\r\n        return {\r\n            newUser: {\r\n                username: \"\",\r\n                email: \"\",\r\n                firstName: \"\",\r\n                lastName: \"\",\r\n            },\r\n            newProduct: {\r\n                prodName: \"\",\r\n                quantity: 0,\r\n                amount: 0,\r\n                Category: \"\",\r\n                prodUrl: \"\",\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        users() {\r\n            return this.$store.state.users;\r\n        },\r\n        products() {\r\n            return this.$store.state.products;\r\n        },\r\n        ...mapState()\r\n    },\r\n    mounted() {\r\n        this.$store.dispatch('fetchUsers');\r\n        this.$store.dispatch('fetchProducts');\r\n    },\r\n    methods: {\r\n        async addUser() {\r\n            try {\r\n                const response = await axios.post('https://full-stack-eomp1.onrender.com/register', this.newUser);\r\n                alert(response.data.msg); // Assuming the response has a 'msg' property\r\n                this.newUser = {\r\n                    username: \"\",\r\n                    email: \"\",\r\n                    firstName: \"\",\r\n                    lastName: \"\",\r\n                };\r\n                this.fetchUsers();\r\n            } catch (error) {\r\n                console.error(\"Error adding user:\", error);\r\n            }\r\n        },\r\n        async editUser(user) {\r\n            try {\r\n                // Check if user.userId is defined\r\n                if (user.userId === undefined) {\r\n                    console.error(\"User ID is undefined\");\r\n                    return; // Exit the function to prevent the request\r\n                }\r\n                const updatedData = {\r\n                    username: this.newUser.username,\r\n                    email: this.newUser.email,\r\n                    firstName: this.newUser.firstName,\r\n                    lastName: this.newUser.lastName,\r\n                };\r\n                console.log('PATCH Request URL:', `\r\n        https://full-stack-eomp1.onrender.com/update-user/${user.userId}`);\r\n                console.log('PATCH Request Payload:', updatedData);\r\n                // Make the PATCH request only if user.userId is defined\r\n                await axios.patch(`https://full-stack-eomp1.onrender.com/update-user/${user.userId}`, updatedData);\r\n                this.fetchUsers();\r\n                alert('User updated successfully');\r\n            } catch (error) {\r\n                console.error(\"Error editing user:\", error);\r\n            }\r\n        },\r\n        async deleteUser(userId) {\r\n            const confirmed = confirm(\"Are you sure you want to delete this user?\");\r\n            if (confirmed) {\r\n                try {\r\n                    await this.$store.dispatch(\"deleteUser\", userId);\r\n                    console.log(\"User deleted successfully!\");\r\n                } catch (error) {\r\n                    console.error(\"Error deleting user:\", error);\r\n                    // Handle the error if needed\r\n                }\r\n            }\r\n            this.$router.push(\"/admin\");\r\n        },\r\n        async addProduct() {\r\n            try {\r\n                const response = await axios.post('https://full-stack-eomp1.onrender.com/add-products', this.newProduct);\r\n                alert(response.data.msg); // Assuming the response has a 'msg' property\r\n                this.newProduct = {\r\n                    prodName: \"\",\r\n                    quantity: 0,\r\n                    amount: 0,\r\n                    Category: \"\",\r\n                    prodUrl: \"\",\r\n                };\r\n                // this.fetchProducts()\r\n            } catch (error) {\r\n                console.error(\"Error adding product:\", error);\r\n            }\r\n        },\r\n        async editProduct(product) {\r\n            try {\r\n                // Check if product.prodID is defined\r\n                if (product.prodID === undefined) {\r\n                    console.error(\"Product ID is undefined\");\r\n                    return; // Exit the function to prevent the request\r\n                }\r\n                const updatedData = {\r\n                    prodName: this.newProduct.prodName,\r\n                    quantity: this.newProduct.quantity,\r\n                    amount: this.newProduct.amount,\r\n                    Category: this.newProduct.Category,\r\n                    prodUrl: this.newProduct.prodUrl,\r\n                };\r\n                console.log('PATCH Request URL:', `https://full-stack-eomp1.onrender.com/products/updateProduct/${product.prodID}`);\r\n                console.log('PATCH Request Payload:', updatedData);\r\n                // Make the PATCH request only if product.prodID is defined\r\n                await axios.patch(`https://full-stack-eomp1.onrender.com/products/updateProduct/${product.prodID}`, updatedData);\r\n                this.fetchProducts();\r\n                alert('Product updated successfully');\r\n            } catch (error) {\r\n                console.error(\"Error editing product:\", error);\r\n            }\r\n        },\r\n        async deleteProduct(productId) {\r\n            const confirmed = confirm(\"Are you sure you want to delete this product?\");\r\n            if (confirmed) {\r\n                try {\r\n                    await this.$store.dispatch(\"deleteProduct\", productId);\r\n                    console.log(\"Product deleted successfully!\");\r\n                } catch (error) {\r\n                    console.error(\"Error deleting product:\", error);\r\n                    // Handle the error if needed\r\n                }\r\n            }\r\n            this.$router.push(\"/admin\");\r\n        },\r\n        resetForm() {\r\n            // Reset the form after a successful add\r\n            this.newUser.username = \"\";\r\n            this.newUser.email = \"\";\r\n            this.newUser.firstName = \"\";\r\n            this.newUser.lastName = \"\";\r\n        },\r\n        populateForm(user) {\r\n            this.newUser.username = user.username;\r\n            this.newUser.email = user.email;\r\n            this.newUser.firstName = user.firstName;\r\n            this.newUser.lastName = user.lastName;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.delcard-link {\r\n    color: red;\r\n    margin: 10px;\r\n}\r\n\r\n.editcard-link {\r\n    color: green;\r\n    margin: 10px;\r\n}\r\n\r\nh4 {\r\n    text-decoration: overline red 6px;\r\n    text-align: start;\r\n}\r\n\r\n.admin {\r\n    color: white;\r\n    background-color: black;\r\n}\r\n\r\n.container {\r\n    border: solid red 2px;\r\n    padding: 10px;\r\n}</style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAAW;gEAClBC,mBAAA,CAAc,YAAV,OAAK;;;EAGAD,KAAK,EAAC;AAAW;;EACdA,KAAK,EAAC;AAAY;;EACnBA,KAAK,EAAC;AAAW;;EAEpBA,KAAK,EAAC;AAA6B;;EAC/BA,KAAK,EAAC;AAAiB;;iEAmBrCC,mBAAA,CAAoB,YAAhB,aAAW;;;uBA7BrBC,mBAAA,CAoDM,OApDNC,UAoDM,GAnDFF,mBAAA,CA0BM,OA1BNG,UA0BM,GAzBFC,UAAc,G,kBACdH,mBAAA,CAuBMI,SAAA,QAAAC,WAAA,CAvBiDC,IAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAnDR,mBAAA,CAuBM;MAvBDF,KAAK,EAAC,MAAM;MAACW,KAAqB,EAArB;QAAA;MAAA,CAAqB;MAAwBC,GAAG,EAAEF,IAAI,CAACG;QACrEZ,mBAAA,CAAwD;MAAlDa,GAAG,EAAEJ,IAAI,CAACK,OAAO;MAAEf,KAAK,EAAC,cAAc;MAACgB,GAAG,EAAC;yCAClDf,mBAAA,CAGM,OAHNgB,UAGM,GAFFhB,mBAAA,CAAoE,MAApEiB,UAAoE,EAAAC,gBAAA,CAA1CT,IAAI,CAACU,SAAS,IAAG,GAAC,GAAAD,gBAAA,CAAGT,IAAI,CAACW,QAAQ,kBAC5DpB,mBAAA,CAAyC,KAAzCqB,UAAyC,EAAAH,gBAAA,CAAjBT,IAAI,CAACa,KAAK,iB,GAEtCtB,mBAAA,CAEK,MAFLuB,UAEK,GADDvB,mBAAA,CAAoD,MAApDwB,UAAoD,EAAAN,gBAAA,CAArBT,IAAI,CAACgB,QAAQ,iB,GAEhDC,WAaM,C;oCAGV1B,mBAAA,CAQE,cAPJ2B,WAAoB,E,gBACpB3B,mBAAA,CAAkE;+DAAlD4B,KAAA,CAAAC,UAAU,CAACC,QAAQ,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAAjCJ,KAAA,CAAAC,UAAU,CAACC,QAAQ,E,mBACnC9B,mBAAA,CAA4E;+DAA5D4B,KAAA,CAAAC,UAAU,CAACI,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC,UAAU;IAACE,IAAI,EAAC;iDAAjDN,KAAA,CAAAC,UAAU,CAACI,QAAQ,E,mBACnCjC,mBAAA,CAAoF;+DAApE4B,KAAA,CAAAC,UAAU,CAACM,MAAM,GAAAJ,MAAA;IAAEC,WAAW,EAAC,QAAQ;IAACE,IAAI,EAAC,QAAQ;IAACE,IAAI,EAAC;iDAA3DR,KAAA,CAAAC,UAAU,CAACM,MAAM,E,mBACjCnC,mBAAA,CAA8D;+DAA9C4B,KAAA,CAAAC,UAAU,CAACQ,QAAQ,GAAAN,MAAA;IAAEC,WAAW,EAAC;iDAAjCJ,KAAA,CAAAC,UAAU,CAACQ,QAAQ,E,mBACnCrC,mBAAA,CAAgE;+DAAhD4B,KAAA,CAAAC,UAAU,CAACS,OAAO,GAAAP,MAAA;IAAEC,WAAW,EAAC;iDAAhCJ,KAAA,CAAAC,UAAU,CAACS,OAAO,E,GAClCtC,mBAAA,CAAmF;IAA1EuC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;IAAEG,OAAO,EAAC;KAA2B,aAAW,E,GAE5EC,WAaQ,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}